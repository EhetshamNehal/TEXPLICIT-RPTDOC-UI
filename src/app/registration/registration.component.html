<div class="report-steps">
  <app-report-steps></app-report-steps>
</div>

<form content [formGroup]="form" (ngSubmit)="onSubmit()" class="registration-form">
  <h2 class="form-title">Register your account</h2>

  <mat-dialog-content class="mat-dialog-body">
    <div class="form-fields">
      <div class="mat-form-row">
        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label class="required">Name</mat-label>
            <input matInput placeholder="Enter your name ..." formControlName="name" required />
          </mat-form-field>
          <ng-container *ngIf="
              form.get('name')?.invalid &&
              (form.get('name')?.dirty || form.get('name')?.touched)
            ">
            <mat-error *ngIf="form.get('name')?.hasError('required')">
              Name is required
            </mat-error>
            <mat-error *ngIf="form.get('name')?.hasError('pattern')">Name can only contain letters
            </mat-error>
          </ng-container>
        </div>

        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label class="required">Email</mat-label>
            <input matInput placeholder="Enter your email ..." formControlName="email" required />
          </mat-form-field>
          <ng-container *ngIf="
              form.get('email')?.invalid &&
              (form.get('email')?.dirty || form.get('email')?.touched)
            ">
            <mat-error *ngIf="form.get('email')?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="form.get('email')?.hasError('email')">
              Invalid Email format
            </mat-error>
          </ng-container>
        </div>

        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label>Phone No.</mat-label>
            <input matInput placeholder="Enter your contact no ..." formControlName="mobileNumber" />
          </mat-form-field>
          <ng-container *ngIf="
              form.get('mobileNumber')?.invalid &&
              (form.get('mobileNumber')?.dirty ||
                form.get('mobileNumber')?.touched)
            ">
            <mat-error *ngIf="
                form.get('mobileNumber')?.hasError('pattern') ||
                form.get('mobileNumber')?.hasError('minlength') ||
                form.get('mobileNumber')?.hasError('maxlength')
              ">
              Phone Number should be of 10 digits
            </mat-error>
          </ng-container>
        </div>
      </div>

      <div class="mat-form-row">
        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label class="required">Password</mat-label>
            <input matInput placeholder="Enter password ..." type="password" formControlName="password" required />
          </mat-form-field>
          <ng-container *ngIf="
              form.get('password')?.invalid &&
              (form.get('password')?.dirty || form.get('password')?.touched)
            ">
            <mat-error *ngIf="form.get('password')?.hasError('required')">
              Password is required
            </mat-error>
            <mat-error *ngIf="form.get('password')?.hasError('minlength')">
              Password must be atleast 6 characters
            </mat-error>
          </ng-container>
        </div>

        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label class="required">Re-enter Password</mat-label>
            <input matInput placeholder="Enter password ..." type="password" formControlName="password" required />
          </mat-form-field>
          <ng-container *ngIf="
              form.get('password')?.invalid &&
              (form.get('password')?.dirty || form.get('password')?.touched)
            ">
            <mat-error *ngIf="form.get('password')?.hasError('required')">
              Password is required
            </mat-error>
            <mat-error *ngIf="form.get('password')?.hasError('minlength')">
              Password must be atleast 6 characters
            </mat-error>
          </ng-container>
        </div>

        <div class="form-field">
          <mat-form-field appearance="outline" floatLabel="always" class="mat-form-input">
            <mat-label>Company</mat-label>
            <input matInput placeholder="Enter your company name ..." formControlName="companyName" />
          </mat-form-field>
        </div>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="mat-dialog-footer">
    <button class="btn-google">
      <p>Login with google</p>
      <img src="../../assets/svg/logo/icon-google.svg" alt="icon-google" />
    </button>
    <button class="btn-submit" type="submit">Submit</button>
  </mat-dialog-actions>
</form>
